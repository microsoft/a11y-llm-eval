
<!doctype html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<title>
			Fail - ARIA - Modal Dialog Examples
		</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
        <script id="a11y-assertions" type="application/json">{
            "assertions": {
                "Each dialog can be closed by escape key": "fail",
                "Each dialog traps keyboard focus": "fail",
                "Each dialog takes focus when opened": "fail",
                "Focus is not lost when each dialog closes": "fail",
                "Each dialog hides content behind it while open": "fail"
            }
        }</script>
	</head>
	<body>
		<main>
            <h1>Fail - ARIA - Modal Dialog Examples</h1>
				
            <button id=ba class="trigger">Invoke ARIA dialog</button>

            <div class=dc>
                <div role=modal aria-modal=true class=dialog data-code-snippet="name-role-value" data-component="dialog">
                    <p>ARIA can be used to create modal <a href="https://w3c.github.io/aria/#dialog">dialogs</a>.</p>
                    <p>There's extra work to make them properly. The native HTML
                        <a href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element">dialog element</a> 
                        handles a lot of this for us automatically.</p>
                    <p>
                        It's generally better to use the native HTML dialog unless
                        you have specific use cases where a custom dialog might perform better.
                        But even then, you may be able to still use native HTML features
                        over ARIA... just sayin...
                    </p>
                    <button>close</button>
                </div>
            </div>

    
            <style>
                .dialog {
                    background: white;
                    border: 2px solid;
                    padding: 1em;
                    box-shadow: 0 0 1000px 1000px rgba(0,0,0,.625);
                    position: fixed;
                    inset: 0;
                    margin: auto;
                    max-width: 500px;
                    max-height: 50vh;
                    overflow: auto;
                }
                .dc {
                    display: none;
                }
                .dc.open {
                    display: block;
                }
            </style>
            <script>
                // Generic dialog functionality for multiple instances
                const dialogButtons = document.querySelectorAll('#ba');
                const dialogContainers = document.querySelectorAll('.dc');
                const dialogs = document.querySelectorAll('.dialog');

                // Set up each dialog button
                dialogButtons.forEach((button, index) => {
                    const dialogContainer = dialogContainers[index];
                    const dialog = dialogs[index];

                    button.addEventListener('click', () => {
                        // Close any other open dialogs first
                        dialogContainers.forEach(container => container.classList.remove('open'));
                        
                        // Open this dialog
                        dialogContainer.classList.add('open');
                    });

                    // Close button functionality for this dialog
                    const closeButton = dialog.querySelector('button');
                    closeButton.addEventListener('click', () => {
                        dialogContainer.classList.remove('open');
                    });
                });
            </script>
		</main>
	</body>
</html>
